# ✍ Асинхронное взаимодействие

{% hint style="info" %}
**Асинхронное взаимодействие** — это способ организации взаимодействия между компонентами программной системы, при котором отправитель не блокируется и может продолжать выполнение других задач, в то время как операция выполняется или ожидает ответа от получателя. В асинхронной модели отправитель и получатель не ожидают непосредственного завершения операции, а вместо этого используют механизмы обратного вызова или уведомлений для обработки результатов операции, когда они станут доступны.
{% endhint %}

<figure><img src="../../../.gitbook/assets/Sync (1).jpg" alt="" width="563"><figcaption><p>Асинхронное взаимодействие</p></figcaption></figure>

## Брокеры сообщений

**Message broker** (брокер сообщений) — это промежуточное программное обеспечение, которое обеспечивает асинхронную коммуникацию между различными компонентами системы, позволяя им обмениваться сообщениями. Он служит посредником между отправителем (producer) и получателем (consumer) сообщений, обеспечивая надежную доставку сообщений даже в условиях различных технологических и временных ограничений.

Основные компоненты и функции, которые предоставляет message broker:

1. **Очередь сообщений:** Брокер сообщений обеспечивает создание и управление очередью сообщений, где отправители помещают сообщения для последующей обработки или доставки получателям. Очередь гарантирует, что сообщения обрабатываются в порядке их поступления.
2. **Маршрутизация сообщений:** Брокер сообщений может выполнять функцию маршрутизации, определяя, какие сообщения должны быть доставлены конкретным получателям или группам получателей. Это позволяет гибко настраивать и управлять потоком сообщений.
3. **Гарантия доставки:** Брокер сообщений обеспечивает надежную доставку сообщений получателям. Он может использовать различные механизмы, такие как подтверждения, переотправка и повторная обработка сообщений, чтобы убедиться, что сообщение будет доставлено, даже если получатель временно недоступен или система перегружена.
4. **Преобразование сообщений:** Брокер сообщений может выполнять преобразование сообщений между различными форматами данных или протоколами, позволяя отправителям и получателям использовать разные форматы или интерфейсы.
5. **Управление подписками:** Брокер сообщений позволяет компонентам системы подписываться на определенные типы сообщений или каналы коммуникации. Это позволяет гибко настраивать поток сообщений и контролировать, какие компоненты получают какие сообщения.

Для чего используются брокеры?

* Отказоустойчивость. Даже если получатель недоуступен, то продюсер всё равно сможет опубликовать сообщение (но в топик)
* За счёт асинхронной работы можно увеличивать производительность

<figure><img src="../../../.gitbook/assets/Sync (2).jpg" alt=""><figcaption><p>Схема работы брокера сообщений</p></figcaption></figure>

##

##



Источники:&#x20;

* [https://testengineer.ru/message-broker/](https://testengineer.ru/message-broker/)
* [https://habr.com/ru/companies/innotech/articles/698838/](https://habr.com/ru/companies/innotech/articles/698838/)
