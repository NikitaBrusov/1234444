# Синхронное взаимодействие

{% hint style="info" %}
**Cинхронное взаимодействие** — это способ организации взаимодействия между компонентами программной системы, при котором клиент, отослав запрос, блокируется и может продолжать работу только после получения ответа от сервера.
{% endhint %}

<figure><img src="../../../.gitbook/assets/Sync.jpg" alt="" width="563"><figcaption><p>Синхронное взаимодействие</p></figcaption></figure>

## HTTP

**HTTP (HyperText Transfer Protocol)** — протокол прикладного уровня. Обмен сообщениями идёт по схеме «запрос-ответ». Для идентификации ресурсов HTTP использует глобальные URI. В отличие от многих других протоколов, HTTP не сохраняет своего состояния. Это означает отсутствие сохранения промежуточного состояния между парами «запрос-ответ». Компоненты, использующие HTTP, могут самостоятельно осуществлять сохранение информации о состоянии, связанной с последними запросами и ответами (например, «куки» на стороне клиента, «сессии» на стороне сервера).

Подробнее в главе HTTP:

{% content-ref url="../../devops-for-sa/osnovy-setei/http.md" %}
[http.md](../../devops-for-sa/osnovy-setei/http.md)
{% endcontent-ref %}

## API

API (Application Programming Interface) - это набор правил, которые позволяют двум приложениям или системам взаимодействовать друг с другом. Он определяет, каким образом программы могут обмениваться данными, запрашивать услуги и взаимодействовать с другими сервисами. API позволяет разным программам работать вместе, как если бы они были частью одного целого.

{% hint style="warning" %}
HTTP (протокол) — REST API (стиль) — RWS (сервис)

Сервис RWS использует архитектурный стиль REST API, который использует протокол HTTP.&#x20;
{% endhint %}

## Виды API

&#x20;Всего есть 4 общепринятых типа построения API:

1. **SOAP** (Simple Object Access Protocol) — это протокол для обмена структурированными сообщениями между веб-сервисами. Он использует формат данных XML для кодирования сообщений. SOAP применяется в распределенных системах и веб-сервисах для взаимодействия между клиентами и серверами. Сегодня SOAP встречается не так часто, так как XML довольно громоздкий, а сама архитектура SOAP не гибкая.
2. **RPC** (Remote Procedure Call) API — это метод взаимодействия между компонентами распределенной системы, позволяющий вызывать функции на удаленном сервере, как будто они являются локальными. Формат данных в RPC может быть разным, включая XML, JSON и бинарные форматы. RPC API применяется в распределенных системах для обеспечения совместной работы между клиентами и серверами с минимальными задержками.
3. **WebSocket API** — это двунаправленный протокол связи, позволяющий установить постоянное соединение между клиентом и сервером для обмена данными в режиме реального времени. Формат данных в WebSocket может быть текстовым или бинарным, включая JSON, XML и другие. WebSocket API часто используется в веб-приложениях для обмена сообщениями между сервером и браузером пользователя, например, в онлайн-играх, чатах или приложениях для обмена данными в реальном времени.
4. **REST** (Representational State Transfer) API — это архитектурный стиль для разработки веб-сервисов, основанный на стандартных HTTP-методах и ресурсоориентированном подходе. Формат данных в REST API может быть разнообразным, включая JSON, XML и другие. REST API широко применяется в веб-приложениях и мобильных приложениях для обеспечения межсистемного взаимодействия и интеграции с различными сервисами и платформами.

Наибольшее распространение получил REST формат API, так как он наиболее прост для разработки и понятен для пользователей. Именно о REST мы и будем говорить далее.

## REST API

REST (Representational State Transfer) - это программный архитектурный стиль, который определяет набор ограничений, которые будут использоваться для создания веб-сервисов.&#x20;

* REST API работает поверх HTTP(S)-протокола и максимально эффективно использует его свойства.&#x20;
* Веб-сервисы, соответствующие архитектурному стилю REST, которые называются RESTful Web-сервисами (RWS), обеспечивают взаимодействие между компьютерными системами в Интернете. Веб-сервисы RESTful позволяют запрашивающим системам получать доступ к текстовым представлениям веб-ресурсов и манипулировать ими с помощью унифицированного и предварительно определенного набора операций без сохранения состояния.

API RESTful на основе HTTP определяются со следующими аспектами:

* базовый URI , например _http://api.example.com/collection/_
* стандартные методы HTTP (например: [POST, GET, PUT и DELETE)](#user-content-fn-1)[^1]
* тип носителя , который определяет состояния переходных элементов данных. Текущее представление сообщает клиенту, как составлять запросы на переходы во все следующие доступные состояния приложения

RESTful API сводится к четырем базовым операциям:

<table><thead><tr><th width="147.33333333333331">Название</th><th width="125">HTTP</th><th>Описание</th></tr></thead><tbody><tr><td>Создание новых данных</td><td>POST</td><td>POST-запрос используется для создания нового ресурса на сервере. Он передает данные, которые должны быть использованы для создания нового ресурса. В отличие от PUT-запроса, POST-запрос не требует знания о существующих ресурсах и их идентификаторах.</td></tr><tr><td>Получение данных</td><td>GET</td><td>GET-запрос используется для получения информации от сервера. Он запрашивает данные от определенного ресурса и не вносит изменения на сервере. Примером может быть просмотр веб-страницы или получение данных из API.</td></tr><tr><td>Обновление данных</td><td>PUT</td><td>PUT-запрос используется для обновления существующих данных на сервере. Он требует передачи полного обновленного набора данных для указанного ресурса. Если ресурс не существует, сервер может создать его, в зависимости от реализации.</td></tr><tr><td>Удаление данных</td><td>DELETE</td><td>DELETE-запрос используется для удаления указанного ресурса на сервере. Он не требует передачи дополнительных данных.</td></tr></tbody></table>

## Статусы

Для каждого HTTP запроса есть свой статус. И они нужны, чтобы грамотно с точки зрения REST API оформить ответ и отдать клиенту. [Статусов много](https://ru.wikipedia.org/wiki/%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA\_%D0%BA%D0%BE%D0%B4%D0%BE%D0%B2\_%D1%81%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D1%8F\_HTTP), поэтому их всех не перечислить, однако важно знать их группировку:

* 100 – 199 – это статусы несущие информационный характер
* 200 - 299 – статусы успешной операции
* 300 – 399 – статусы перенаправления (редирект)
* 400 – 499 – статусы ошибок на стороне клиента
* 500 – 599 – статусы ошибок на стороне сервера

## Вывод

Сегодня REST API используется повсюду, начиная от сайтов, заканчивая мобильными приложениями, поэтому важно знать как работать с ним, так как рано или поздно может возникнуть необходимость в создании клиента (мобильного приложения, например) для своего сайта или того же блога.

Таким образом, REST API призван создать четко структурированный подход в написании прикладных интерфейсов. Так, как с каждым днем становится все больше и больше данных, к которым необходимо открыть доступ.







Источник:&#x20;

* [https://1cloud.ru/blog/intoduction\_in\_api\_and\_restapi](https://1cloud.ru/blog/intoduction\_in\_api\_and\_restapi)
* [http://js.programs.kodika.school/05\_rest\_api/](http://js.programs.kodika.school/05\_rest\_api/)

[^1]: По другому такое сочетание методов называется CRUD модель, где:\
    С — Create (POST)\
    R — Read (GET)\
    U — Update (PUT)\
    D — Delete (DELETE)
