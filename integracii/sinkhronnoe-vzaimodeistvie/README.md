# Синхронное взаимодействие

API

REST

SOAP

XML JSON



При **синхронном взаимодействии** все запросы в этой цепочке вызовов выполняются строго друг за другом, а при выполнении последнего запроса ответы последовательно передаются в обратном направлении. В итоге пользователь вынужден пару секунд ждать сообщения о публикации своего отзыва, хотя его не интересуют особенности серверной обработки и он вполне обоснованно хочет увидеть сообщение сразу после нажатия кнопки. Конечно, время ожидания будет во многом определяться мощностью оборудования, но при пиковых нагрузках оно может стать серьезной проблемой.



Источник: [https://mcs.mail.ru/blog/zachem-nuzhny-ocheredi-soobshcheniy-v-mikroservisnoy-arkhitekture](https://mcs.mail.ru/blog/zachem-nuzhny-ocheredi-soobshcheniy-v-mikroservisnoy-arkhitekture)







## REST API

REST - это программный архитектурный стиль, который определяет набор ограничений, которые будут использоваться для создания веб-сервисов . Веб-сервисы, соответствующие архитектурному стилю REST, которые называются RESTful Web-сервисами (RWS), обеспечивают взаимодействие между компьютерными системами в Интернете . Веб-сервисы RESTful позволяют запрашивающим системам получать доступ к текстовым представлениям веб-ресурсов и манипулировать ими с помощью унифицированного и предварительно определенного набора операций без сохранения состояния . Другие виды веб-служб, такие как веб-службы SOAP , предоставляют свои собственные произвольные наборы операций.

Ограничения архитектурного стиля REST влияют на следующие архитектурные свойства:

* производительность при взаимодействии компонентов, которая может быть доминирующим фактором воспринимаемой пользователем производительности и эффективности сети;
* масштабируемость, позволяющая поддерживать большое количество компонентов и взаимодействий между компонентами. Рой Филдинг описывает влияние REST на масштабируемость следующим образом:
  * Разделение интересов клиента и сервера REST упрощает реализацию компонентов, уменьшает сложность семантики соединителей, повышает эффективность настройки производительности и повышает масштабируемость компонентов чистого сервера. Ограничения многоуровневой системы позволяют посредникам - прокси , шлюзы и брандмауэры- вводиться в различных точках коммуникации без изменения интерфейсов между компонентами, что позволяет им помогать в переводе коммуникации или повышать производительность посредством крупномасштабного общего кэширования. REST позволяет выполнять промежуточную обработку, ограничивая самоинформативность сообщений: взаимодействие не требует состояния между запросами, стандартные методы и типы носителей используются для указания семантики и обмена информацией, а ответы явно указывают на кешируемость.
* простота единого интерфейса;
* модифицируемость компонентов для удовлетворения меняющихся потребностей (даже во время работы приложения);
* видимость связи между компонентами сервисными агентами;
* переносимость компонентов путем перемещения программного кода вместе с данными;
* надежность в устойчивости к отказам на уровне системы при наличии отказов внутри компонентов, разъемов или данных.



## API

API (программный интерфейс приложения, интерфейс прикладного программирования) (англ. application programming interface) — описание способов (набор классов, процедур, функций, структур или констант), которыми одна компьютерная программа может взаимодействовать с другой программой. Обычно входит в описание какого-либо интернет-протокола, программного каркаса (фреймворка) или стандарта вызовов функций операционной системы. Часто реализуется отдельной программной библиотекой или сервисом операционной системы. Используется программистами при написании всевозможных приложений.

API веб-службы, которые придерживаются архитектурных ограничений REST , называются API RESTful. API RESTful на основе HTTP определяются со следующими аспектами:

* базовый URI , например _http://api.example.com/collection/_
* стандартные методы HTTP (например, GET, POST, PUT, PATCH и DELETE);
* тип носителя , который определяет состояния переходных элементов данных. Текущее представление сообщает клиенту, как составлять запросы на переходы во все следующие доступные состояния приложения.
* В следующей таблице показано, как методы HTTP обычно используются в RESTful API(показать на слайде)
* Если говорить еще проще то, REST – это архитектурный стиль, а RESTful API – это его практическое воплощение, и чем больше приложение отвечает критериям стиля REST, тем более оно RESTful. RESTful API сводится к четырем базовым операциям:

1. получение данных в удобном для клиента формате
2. создание новых данных
3. обновление данных
4. удаление данных

Например, HTTP метод POST соответствует SQL операции INSERT, метод GET – операции SELECT и т.д. Для каждого HTTP запроса есть свой статус. И они нужны, чтобы грамотно с точки зрения REST API оформить ответ и отдать клиенту. Статусов много, поэтому их всех не перечислить, однако важно знать их группировку:

* 100 – 199 – это статусы несущие информационный характер
* 200 - 299 – статусы успешной операции
* 300 – 399 – статусы перенаправления (редиректа)
* 400 – 499 – статусы ошибок на стороне клиента
* 500 – 599 – статусы ошибок на стороне сервера

Сегодня REST API используется повсюду, начиная от сайтов, заканчивая мобильными приложениями, поэтому важно знать как работать с ним, так как рано или поздно может возникнуть необходимость в создании клиента (мобильного приложения,например) для своего сайта или того же блога.

Таким образом, REST API призван создать четко структурированный подход в написании прикладных интерфейсов. Так, как с каждым днем становится все больше и больше данных, к которым необходимо открыть доступ.

Источник: [http://js.programs.kodika.school/05\_rest\_api/](http://js.programs.kodika.school/05\_rest\_api/)





## Виды API

&#x20;Всего есть 4 общепринятых типа построения API:

1. SOAP (Simple Object Access Protocol) — это протокол для обмена структурированными сообщениями между веб-сервисами. Он использует формат данных XML для кодирования сообщений. SOAP применяется в распределенных системах и веб-сервисах для взаимодействия между клиентами и серверами. Сегодня SOAP встречается не так часто, так как XML довольно громоздкий, а сама архитектура SOAP не гибкая.
2. RPC (Remote Procedure Call) API — это метод взаимодействия между компонентами распределенной системы, позволяющий вызывать функции на удаленном сервере, как будто они являются локальными. Формат данных в RPC может быть разным, включая XML, JSON и бинарные форматы. RPC API применяется в распределенных системах для обеспечения совместной работы между клиентами и серверами с минимальными задержками.
3. WebSocket API — это двунаправленный протокол связи, позволяющий установить постоянное соединение между клиентом и сервером для обмена данными в режиме реального времени. Формат данных в WebSocket может быть текстовым или бинарным, включая JSON, XML и другие. WebSocket API часто используется в веб-приложениях для обмена сообщениями между сервером и браузером пользователя, например, в онлайн-играх, чатах или приложениях для обмена данными в реальном времени.
4. REST (Representational State Transfer) API — это архитектурный стиль для разработки веб-сервисов, основанный на стандартных HTTP-методах и ресурсоориентированном подходе. Формат данных в REST API может быть разнообразным, включая JSON, XML и другие. REST API широко применяется в веб-приложениях и мобильных приложениях для обеспечения межсистемного взаимодействия и интеграции с различными сервисами и платформами.

Наибольшее распространение получил REST формат API, так как он наиболее прост для разработки и понятен для пользователей. Именно о REST мы и будем говорить далее.

Истчоник: [https://1cloud.ru/blog/intoduction\_in\_api\_and\_restapi](https://1cloud.ru/blog/intoduction\_in\_api\_and\_restapi)





## REST API

REST (Representational State Transfer) API работает поверх HTTP(S)-протокола и максимально эффективно использует его свойства. Можно сказать, что REST — это не какой-то стандарт, а архитектурный стиль написания запросов. Часто ещё его называют RESTful API. А вот HTTP (HyperText Transfer Protocol) — это протокол передачи данных, используемый во всемирной паутине для обмена информацией между клиентами и серверами.

HTTP определяет методы запроса к ресурсу, которые используются для выполнения разных операций:

1. GET-запрос используется для получения информации от сервера. Он запрашивает данные от определенного ресурса и не вносит изменения на сервере. Примером может быть просмотр веб-страницы или получение данных из API.
2. PUT-запрос используется для обновления существующих данных на сервере. Он требует передачи полного обновленного набора данных для указанного ресурса. Если ресурс не существует, сервер может создать его, в зависимости от реализации.
3. DELETE-запрос используется для удаления указанного ресурса на сервере. Он не требует передачи дополнительных данных.
4. POST-запрос используется для создания нового ресурса на сервере. Он передает данные, которые должны быть использованы для создания нового ресурса. В отличие от PUT-запроса, POST-запрос не требует знания о существующих ресурсах и их идентификаторах.

HTTP-запрос определяется HTTP-методом и может содержать различные заголовки и информацию в виде JSON-данных для обработки. Вот так может выглядеть схема работы HTTP-запроса к 1cloud API для получения баланса проекта:\


Источник: [https://1cloud.ru/blog/intoduction\_in\_api\_and\_restapi](https://1cloud.ru/blog/intoduction\_in\_api\_and\_restapi)



REST API или RESTful API — это стиль написания API-запросов, который использует стандартные HTTP-методы для работы. Часто при работе с REST используют понятие CRUD-модели, каждому элементу из которых соответствует свой HTTP-метод:

1. С — create (POST);
2. R — read (GET);
3. U — update (PUT);
4. D — delete (DELETE).

Главной отличительной особенностью REST API является то, что он направлен на использование ресурсов, то есть у каждого ресурса есть свой URL, с которым мы можем взаимодействовать с помощью HTTP-методов. Обычно API URL имеют такой вид: базовый URI + URI ресурса. Хорошим примером является URL 1cloud API: базовый URI — https://api.1cloud.ru/ + URI ресурса — /server/, /dns/, /monitoring/.



Источник: [https://1cloud.ru/blog/intoduction\_in\_api\_and\_restapi](https://1cloud.ru/blog/intoduction\_in\_api\_and\_restapi)



